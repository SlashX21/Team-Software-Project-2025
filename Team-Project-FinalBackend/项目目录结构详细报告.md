# 项目目录结构详细报告

## 项目概述
这是一个基于Spring Boot的多模块Java项目，包含前端和后端组件，主要用于食品过敏原分析和健康管理。

## 根目录结构

```
Team- Project-7.22-backend-frontend/
├── .env                                    # 环境变量配置文件
├── .mvn/wrapper/maven-wrapper.properties   # Maven包装器配置
├── pom.xml                                 # 根项目Maven配置
├── README.md                               # 项目说明文档
├── SERVICE_STARTUP_GUIDE.md               # 服务启动指南
├── test_data_insert.sql                   # 测试数据插入脚本
├── grocery_guardian_api_and_functions.md  # API和功能文档
```

## 主要模块结构

### 1. Allergen模块 (过敏原分析)
```
Allergen/
├── pom.xml
└── src/main/java/org/allergen/
    ├── controller/
    │   └── AllergenAnalysisController.java
    ├── enums/
    │   ├── ActivityLevel.java
    │   ├── Gender.java
    │   ├── NutritionGoal.java
    │   ├── PresenceType.java
    │   └── SeverityLevel.java
    ├── pojo/
    │   ├── Allergen.java
    │   ├── ProductAllergen.java
    │   ├── UserAllergen.java
    │   └── DTO/
    │       ├── AllergenDto.java
    │       ├── ProductAllergenDto.java
    │       ├── ResponseMessage.java
    │       └── UserAllergenDto.java
    ├── repository/
    │   └── AllergenRepository.java
    └── service/
        ├── AllergenService.java
        └── IAllergenService.java
```

### 2. Backend模块 (主后端服务)
```
Backend/
├── pom.xml
└── src/main/java/com/demo/backend/
    ├── CorsConfig.java                    # CORS配置
    ├── DataInitializationService.java     # 数据初始化服务
    ├── LiquibaseConfig.java              # 数据库版本管理配置
    ├── RestTemplateConfig.java           # REST模板配置
    ├── ServiceConfig.java                # 服务配置
    ├── SpringbootDemoApplication.java    # 主启动类
    └── TestController.java               # 测试控制器
    └── resources/
        ├── application.properties        # 应用配置文件
        ├── data/                        # 数据文件
        │   ├── data_import.sql
        │   ├── product_allergen_data.sql
        │   └── test-data.sql
        └── db/changelog/                # 数据库变更日志
            ├── changelog_global_property.xml
            ├── changelog_index.xml
            ├── data-initialization.xml
            └── moduleChangelog/         # 模块变更日志
                ├── allergen/
                ├── healthManagement/
                ├── product/
                ├── user/
                └── userBehavior/
```

### 3. common模块 (公共组件)
```
common/
├── pom.xml
└── src/main/java/com/demo/springboot_demo/
    ├── enums/
    │   ├── ActivityLevel.java
    │   ├── Gender.java
    │   └── NutritionGoal.java
    ├── exception/
    │   ├── GlobalExceptionHandlerAdvice.java
    │   └── ResourceNotFoundException.java
    └── pojo/DTO/
        └── ResponseMessage.java
```

### 4. Ocr模块 (光学字符识别)
```
Ocr/
├── pom.xml
└── src/main/java/org/ocr/
    ├── controller/
    │   └── OcrController.java
    ├── pojo/
    │   ├── DTO/
    │   │   └── BarcodeRequest.java
    │   └── response/
    │       ├── BarcodeResponse.java
    │       └── ScanResponse.java
    ├── python/demo/                     # Python OCR模块
    │   ├── .env
    │   ├── barcode_module.py
    │   ├── gpt_module.py
    │   ├── main.py
    │   ├── ocr_module.py
    │   ├── readme.md
    │   └── requirements.txt
    └── service/
        ├── IOcrService.java
        └── OcrService.java
```

### 5. Product模块 (产品管理)
```
Product/
├── pom.xml
└── src/main/java/org/product/
    ├── ProductApplication.java           # 产品应用启动类
    ├── controller/
    │   ├── ProductController.java
    │   └── ProductPreferenceController.java
    ├── enums/
    │   ├── ActivityLevel.java
    │   ├── Gender.java
    │   ├── NutritionGoal.java
    │   └── PreferenceType.java
    ├── pojo/
    │   ├── Product.java
    │   ├── ProductPreference.java
    │   └── DTO/
    │       ├── PagedResponseDto.java
    │       ├── ProductDto.java
    │       ├── ProductPreferenceDto.java
    │       ├── ProductSearchDto.java
    │       └── ResponseMessage.java
    ├── repository/
    │   ├── ProductRepository.java
    │   └── ProductPreferenceRepository.java
    └── service/
        ├── IProductService.java
        ├── ProductService.java
        ├── IProductPreferenceService.java
        └── ProductPreferenceService.java
```

### 6. Recommendation模块 (推荐系统)
```
Recommendation/
├── pom.xml
└── src/main/java/org/recommendation/
    ├── App.java                         # 推荐应用启动类
    ├── controller/
    │   └── RecommendationController.java
    ├── pojo/
    │   ├── BarcodeRecommendationRequest.java
    │   ├── PurchasedItem.java
    │   ├── ReceiptRecommendationRequest.java
    │   └── RecommendationLog.java
    ├── Rec_LLM_Module/                 # LLM推荐模块
    │   ├── api/
    │   │   ├── endpoints.py
    │   │   ├── main.py
    │   │   └── models.py
    │   ├── common/
    │   │   └── utils.py
    │   ├── config/
    │   │   ├── __init__.py
    │   │   ├── constants.py
    │   │   └── settings.py
    │   ├── database/
    │   │   ├── data_importer.py
    │   │   ├── db_manager.py
    │   │   ├── init_db.py
    │   │   ├── migrate_to_java_db.py
    │   │   ├── populate_allergens.py
    │   │   ├── populate_full_database.py
    │   │   ├── schema.sql
    │   │   └── setup_database.py
    │   ├── fix_mysql_adapter.py
    │   ├── JAVA_INTEGRATION_GUIDE.md
    │   ├── llm_evaluation/
    │   │   ├── openai_client.py
    │   │   └── prompt_templates.py
    │   ├── README.md
    │   ├── recommendation/
    │   │   ├── __init__.py
    │   │   ├── database.py
    │   │   ├── filters.py
    │   │   ├── nutrition_optimizer.py
    │   │   └── recommender.py
    │   ├── requirements.txt
    │   ├── start_with_maven_db.py
    │   └── test_maven_db.env
    ├── repository/
    │   └── RecommendationLogRepository.java
    └── service/
        └── RecommendationService.java
```

### 7. User模块 (用户管理)
```
User/
├── pom.xml
└── src/main/java/org/user/
    ├── config/
    │   └── UserConfig.java
    ├── controller/
    │   ├── DailySugarSummaryController.java
    │   ├── HistoryController.java
    │   ├── SugarIntakeHistoryController.java
    │   └── UserController.java
    ├── enums/
    │   ├── ActionTaken.java
    │   ├── ActivityLevel.java
    │   ├── Gender.java
    │   ├── GoalLevel.java
    │   ├── NutritionGoal.java
    │   ├── PreferenceSource.java
    │   ├── ScanType.java
    │   ├── Source.java
    │   ├── SourceType.java
    │   └── SugarSummaryStatus.java
    ├── pojo/
    │   ├── BarcodeHistory.java
    │   ├── DailySugarSummary.java
    │   ├── MonthlyStatistics.java
    │   ├── PurchaseItem.java
    │   ├── PurchaseRecord.java
    │   ├── ReceiptHistory.java
    │   ├── ScanHistory.java
    │   ├── SugarGoals.java
    │   ├── SugarIntakeHistory.java
    │   ├── User.java
    │   ├── UserPreference.java
    │   └── DTO/
    │       ├── DailySugarSummaryDto.java
    │       ├── MonthlyCalendarDto.java
    │       ├── MonthlyStatisticsDto.java
    │       ├── MonthlyStatsDto.java
    │       ├── PurchaseItemDto.java
    │       ├── PurchaseRecordDto.java
    │       ├── ResponseMessage.java
    │       ├── ScanHistoryDto.java
    │       ├── SugarGoalRequestDto.java
    │       ├── SugarGoalResponseDto.java
    │       ├── SugarGoalsDto.java
    │       ├── SugarIntakeHistoryDto.java
    │       ├── UserDto.java
    │       ├── UserHistoryListDto.java
    │       ├── UserHistoryResponseDto.java
    │       ├── UserHistoryStatsDto.java
    │       └── UserPreferenceDto.java
    ├── repository/
    │   ├── BarcodeHistoryRepository.java
    │   ├── DailySugarSummaryRepository.java
    │   ├── ReceiptHistoryRepository.java
    │   ├── ScanHistoryRepository.java
    │   ├── SugarGoalsRepository.java
    │   ├── SugarIntakeHistoryRepository.java
    │   ├── UserAllergenRepository.java
    │   ├── UserPreferenceRepository.java
    │   └── UserRepository.java
    └── service/
        ├── DailySugarSummaryService.java
        ├── IDailySugarSummaryService.java
        ├── ISugarIntakeHistoryService.java
        ├── ISugarTrackingService.java
        ├── IUserHistoryService.java
        ├── IUserPreferenceService.java
        ├── IUserService.java
        ├── SugarIntakeHistoryService.java
        ├── SugarTrackingService.java
        ├── UserHistoryService.java
        ├── UserPreferenceService.java
        └── UserService.java
```

## 数据库相关文件

```
database/
├── allergen-data-import.sql              # 过敏原数据导入脚本
└── product-data-import.sql               # 产品数据导入脚本
```

## 文档目录

```
Doc/
├── Backend/
│   ├── api_post.txt                      # API文档
│   └── 后端功能需求补充文档.md
├── Database/
│   ├── claude.ai.txt
│   ├── 数据库报告(修订版01).md
│   └── 数据库设计报告（修订）.md
├── Frontend/
│   └── 分析结果界面与API说明文档.md
├── Loyalty-Point/
│   └── readme.md
├── Presentation/
│   └── 用户故事_中期汇报.md
└── Recommendation System/
    └── claude.ai.txt
```

## 项目计划

```
Project Plan/
└── Grocery Guardian AI Grocery Assistant.md
```

## 技术栈总结

### 后端技术
- **Java 8+** - 主要开发语言
- **Spring Boot** - 应用框架
- **Spring Data JPA** - 数据访问层
- **MySQL** - 数据库
- **Liquibase** - 数据库版本管理
- **Maven** - 构建工具

### Python组件
- **FastAPI** - API框架
- **OpenAI API** - LLM集成
- **OCR技术** - 图像识别
- **Vertex AI** - Google AI服务

### 架构特点
1. **微服务架构** - 模块化设计
2. **多语言集成** - Java + Python
3. **AI驱动** - LLM推荐系统
4. **健康管理** - 糖分追踪
5. **过敏原分析** - 安全食品识别
